!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){},function(e,t,n){"use strict";var o=document.querySelector(".text-input__lat"),r=document.querySelector(".text-input__lng"),i=document.querySelector(".btn__center-map"),c=document.querySelector(".dragged-pos"),a=document.querySelector(".btn__get-position"),s=document.querySelector(".btn__remove-marker"),u=document.getElementsByName("edit-mode"),l=document.querySelector("#textarea-marker-props"),d=document.querySelector(".btn__add-marker-props"),p=document.querySelector(".btn__remove-active-state"),f=document.querySelector(".output-event"),g=io("http://localhost:5500");g.on("connectionEstablished",function(e){console.log(e)}),window.initMap=function(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:53.3655,lng:14.6499},zoom:18,mapTypeId:"satellite",draggableCursor:"crosshair",rotateControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControl:!1});i.addEventListener("click",function(){!function(t){e.setCenter(t)}({lng:Number(r.value),lat:Number(o.value)})});var t=[];g.on("session",function(e){""!==e?(t.push(JSON.parse(e)),t[0].features.forEach(function(e){m(new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]),e.properties)})):f.innerHTML="no previous session to load"}),e.addListener("click",function(e){u[0].checked&&m(e.latLng,{})});var n=[];function m(t,o){var r=new google.maps.Marker({position:t,map:e,draggable:!0,title:String("".concat(t.lng().toFixed(5),", ").concat(t.lat().toFixed(5))),icon:"./pin.png",customData:o});n.push(r),r.addListener("drag",function(){r.setOpacity(.4);var e=r.getPosition().lng().toFixed(5),t=r.getPosition().lat().toFixed(5);c.style.opacity="1",c.innerHTML="lng: ".concat(e,", lat: ").concat(t)}),r.addListener("dragend",function(){r.setOpacity(1),c.style.opacity="0";var e=r.getPosition().lng().toFixed(5),t=r.getPosition().lat().toFixed(5);r.setTitle(String("".concat(e,", ").concat(t)))});var i=JSON.stringify(r.customData),a=new google.maps.InfoWindow({content:i});r.addListener("mouseover",function(){u[1].checked&&a.open(e,r)}),r.addListener("mouseout",function(){u[1].checked&&a.close(e,r)}),r.addListener("click",function(e){switch(!0){case u[0].checked:break;case u[1].checked:r.setIcon("./pin--active.png");var t=JSON.stringify(r.customData);f.innerHTML=t,l.value=t,d.addEventListener("click",o,!0);var o=function e(){r.customData=JSON.parse(l.value),d.removeEventListener("click",e,!0),r.setIcon("./pin.png")};p.addEventListener("click",function(){d.removeEventListener("click",o,!0),r.setIcon("./pin.png"),l.value="",f.innerHTML=""});break;case u[2].checked:r.setMap(null),n.splice(e,1)}}),s.addEventListener("click",function(){n.forEach(function(e,t,n){e.setMap(null)}),n=[]})}a.addEventListener("click",function(){var e=[];n.forEach(function(t){var n=t.getPosition().lng(),o=t.getPosition().lat(),r=t.customData;e.push({type:"Feature",properties:r,geometry:{type:"Point",coordinates:[n,o]}})});var t={type:"FeatureCollection",features:e};0!==t.features.length?(console.log("".concat(JSON.stringify(t,null,2))),f.innerHTML="send pins to backend",g.emit("pins",JSON.stringify(t,null,2))):(f.innerHTML="session cleared",g.emit("pins",""))})}},function(e,t,n){"use strict";n(1),n(0)}]);